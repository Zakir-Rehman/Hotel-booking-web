<%- layout("/layouts/boilerplate") -%>
  <div class="conatiner-1-profile">
    <div class="profile-text">
      <h1 class="typing-text-2">
        <%= listings.username %>
      </h1>
      <p>Zakirâ€™s Dev Studio Hotel provides a comfortable stay with modern facilities and warm hospitality. We focus on cleanliness, convenience, and quality service to ensure every guest enjoys a relaxing and memorable experience.</p>
      <button id="openPopupBtn" class="btn btn-danger w-[200px]">Profile</button>
    </div>
    <div class="profile-user"></div>
  </div>
  <div class="main-profile mt-[100px]">
    <div class="bg-white min-h-screen flex flex-col items-center py-10 w-100">

      <div class="flex gap-4 mb-8 justify-evenly w-100 max-sm:flex-wrap">
        <button id="profileBtn"
          class="w-[300px] max-sm:rounded-[20px] flex items-center justify-center max-sm:text-[0.5rem] max-md:w-[100%] tab-btn px-5 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition">Profile</button>
        <button id="addressBtn"
          class="w-[300px] max-sm:rounded-[20px] flex items-center justify-center max-sm:text-[0.5rem] max-md:w-[100%] tab-btn px-5 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition">Address
          Book</button>
        <button id="bookingBtn"
          class="w-[300px] max-sm:rounded-[20px] flex items-center justify-center max-sm:text-[0.5rem] max-md:w-[100%] tab-btn px-5 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition">Booking
          Detail</button>
      </div>

      <!-- Content Area -->
      <div id="content" class="w-[100%] max-w-xl bg-white p-6 max-sm:p-0 rounded-xl shadow-lg border border-gray-200">
        <div id="profileSection" class="tab-content">
          <h2 class="text-xl font-semibold text-gray-800 mb-4">Profile Information</h2>
          <p><strong>Name:</strong>
            <%= listings.username %>
          </p>
          <p><strong>Email:</strong>
            <%= listings.email %>
          </p>
          <p><strong>Gender:</strong>
            <%= listings.gender %>
          </p>
        </div>

        <div id="addressSection" class="tab-content hidden">
          <h2 class="text-xl font-semibold text-gray-800 mb-4">Address Book</h2>
          <p><strong>Home Address:</strong> 123 Main Street, Lahore</p>
          <p><strong>City:</strong> Lahore</p>
          <p><strong>Postal Code:</strong> 54000</p>
        </div>

        <div id="bookingSection" class="tab-content hidden">
          <h2 class="text-xl font-semibold text-gray-800 mb-4">Booking Details</h2>
          <p><strong>Recent Booking:</strong> 2 Nights at Islamabad Hotel</p>
          <p><strong>Date:</strong> 10th - 12th October, 2025</p>
          <p><strong>Status:</strong> Confirmed âœ…</p>
        </div>
      </div>
    </div>
  </div>

  <!-- ðŸ§© Profile Popup Modal -->
  <div id="profilePopup"
    class="fixed inset-0 bg-[#00000070] backdrop-blur-md  bg-opacity-60 flex justify-center items-center hidden z-50">
    <div class="bg-white p-6 rounded-2xl shadow-lg w-[90%] max-w-md flex flex-col items-center relative">
      <!-- Close Button -->
      <button id="closePopupBtn"
        class="absolute top-2 right-3 text-gray-600 hover:text-red-500 text-2xl">&times;</button>

      <!-- Center Image -->
      <img class="rounded-2 w-[150px] mb-4 border-4 border-gray-300"
        src="https://images.unsplash.com/photo-1575936123452-b67c3203c357?w=500&auto=format&fit=crop&q=60"
        alt="Profile">

      <!-- Buttons -->
      <div class="flex justify-center gap-4 mb-6 text-nowrap">
        <button class="btn btn-danger text-white rounded-lg shadow-md hover:bg-blue-600 transition">See
          Profile</button>
        <form  class="flex items-center gap-2" >
      <button class="btn btn-danger" >upload</button>
        </form>
      </div>

      <!-- Uploaded Images Section -->
      <h3 class="text-lg font-semibold text-gray-800 text-center border-b pb-2 mb-4">Uploaded Images</h3>

      <div class="grid grid-cols-3 gap-3">
        <!-- Image Card -->
        <div
          class="group relative overflow-hidden rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all bg-gray-50">
          <img class="w-full h-[90px] object-cover transform group-hover:scale-105 transition duration-300"
            src="https://up.yimg.com/ib/th/id/OIP.UTGEH71AfZUF9B_Yg21ELAAAAA?pid=Api&rs=1&c=1&qlt=95&w=93&h=114" alt="">
        </div>

        <div
          class="group relative overflow-hidden rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all bg-gray-50">
          <img class="w-full h-[90px] object-cover transform group-hover:scale-105 transition duration-300"
            src="https://up.yimg.com/ib/th/id/OIP.h3AQmfxewnfGDN4Q09ppcgHaLH?pid=Api&rs=1&c=1&qlt=95&w=73&h=109" alt="">
        </div>

        <div
          class="group relative overflow-hidden rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all bg-gray-50">
          <img class="w-full h-[90px] object-cover transform group-hover:scale-105 transition duration-300"
            src="https://up.yimg.com/ib/th/id/OIP._4Z1K3f9qM2v1WpQUsCOPQHaLH?pid=Api&rs=1&c=1&qlt=95&w=82&h=123" alt="">
        </div>
      </div>

    </div>
  </div>

  <script>
    // âœ… Tab functionality
    const tabs = {
      profileBtn: "profileSection",
      addressBtn: "addressSection",
      bookingBtn: "bookingSection"
    };

    Object.keys(tabs).forEach(btnId => {
      document.getElementById(btnId).addEventListener("click", () => {
        document.querySelectorAll(".tab-content").forEach(sec => sec.classList.add("hidden"));
        document.querySelectorAll(".tab-btn").forEach(btn => {
          btn.classList.remove("bg-red-500", "text-white");
          btn.classList.add("bg-gray-200", "text-gray-700");
        });
        document.getElementById(tabs[btnId]).classList.remove("hidden");
        const activeBtn = document.getElementById(btnId);
        activeBtn.classList.remove("bg-gray-200", "text-gray-700");
        activeBtn.classList.add("bg-red-500", "text-white");
      });
    });

    // âœ… Popup functionality
    const openPopupBtn = document.getElementById("openPopupBtn");
    const closePopupBtn = document.getElementById("closePopupBtn");
    const profilePopup = document.getElementById("profilePopup");

    openPopupBtn.addEventListener("click", () => {
      profilePopup.classList.remove("hidden");
    });

    closePopupBtn.addEventListener("click", () => {
      profilePopup.classList.add("hidden");
    });

    // Close popup on outside click
    profilePopup.addEventListener("click", (e) => {
      if (e.target === profilePopup) profilePopup.classList.add("hidden");
    });
  </script>